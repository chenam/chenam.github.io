{"title":"extends Component 和 无状态组件","date":"2019-04-26T08:28:11.000Z","slug":"extends-Component-和-无状态组件","updated":"2020-10-12T06:28:01.118Z","content":"<h3 id=\"extends-Component-定义组件\"><a href=\"#extends-Component-定义组件\" class=\"headerlink\" title=\"extends Component 定义组件\"></a>extends Component 定义组件</h3><ul>\n<li>函数的绑定<br>使用<code>React.createClass</code>定义组件自动绑定<code>this</code>,但是在ES6的<code>class</code>不会<ol>\n<li>在构造函数里绑定 2. 使用箭头函数</li>\n</ol>\n</li>\n<li>调用super<blockquote>\n<p>super关键字用于访问和调用一个对象的父对象上的函数。</p>\n</blockquote>\n</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React, &#123;Component&#125; from &apos;react&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">class InputControlES6 extends Component &#123; </span><br><span class=\"line\">    constructor(props) &#123;</span><br><span class=\"line\">        super(props); //传递props给component</span><br><span class=\"line\">        // Set up initial state</span><br><span class=\"line\">            this.state = &#123;</span><br><span class=\"line\">                text: props.initialValue || &apos;placeholder&apos; </span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        // Functions must be bound manually with ES6 classes</span><br><span class=\"line\">        this.handleChange = this.handleChange.bind(this); </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    handleChange(event) &#123;</span><br><span class=\"line\">        this.setState(&#123; </span><br><span class=\"line\">            text: event.target.value</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    render() &#123;</span><br><span class=\"line\">        return (</span><br><span class=\"line\">            &lt;div&gt;</span><br><span class=\"line\">                Type something:</span><br><span class=\"line\">                &lt;input onChange=&#123;this.handleChange&#125;</span><br><span class=\"line\">                value=&#123;this.state.text&#125; /&gt;</span><br><span class=\"line\">            &lt;/div&gt;</span><br><span class=\"line\">        );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">InputControlES6.propTypes = &#123; </span><br><span class=\"line\">    initialValue: React.PropTypes.string</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">InputControlES6.defaultProps = &#123;</span><br><span class=\"line\">    initialValue: &apos;&apos;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"无状态函数式组件\"><a href=\"#无状态函数式组件\" class=\"headerlink\" title=\"无状态函数式组件\"></a>无状态函数式组件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const Item = (&#123; id, title, remove &#125;) =&gt; &lt;div className=&apos;item&apos;&gt;</span><br><span class=\"line\">  &#123;title&#125;</span><br><span class=\"line\">  &lt;span</span><br><span class=\"line\">    className=&apos;deleteItem&apos;</span><br><span class=\"line\">    onClick=&#123;remove(id)&#125;</span><br><span class=\"line\">  &gt; x &lt;/span&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://www.jianshu.com/p/1dc57d51348b\" target=\"_blank\" rel=\"noopener\">参考</a></p>\n","prev":{"title":"axios 文件下载","slug":"axios-文件下载"},"next":{"title":"react-router 4.0 的非组件跳转","slug":"react-router-4-0-的非组件跳转"},"link":"http://yoursite.com/post/extends-Component-和-无状态组件/"}